<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>bind</title>
</head>
<body>
  


  <script>
    var value = 'window';
    var obj = {
      value:'inner'
    }

    function foo(name,age){
      console.log(this.value);
      return {
        name,
        age
      }
    }

    Function.prototype.bind2 = function(context) {
      if(typeof this !== 'function ') {
        throw new Error("Function.prototype.bind - what is trying to be bound is not callable");
      }
      var self = this;
      var args = Array.prototype.slice(arguments,1)

      var fNOP = function(){};

      var fBound = function(){
        var bindArgs = Array.prototype.slice(arguments,1);
        return self.call(this instanceof fNOP ? this : context,...args,...bindArgs);
      }
      fNOP.prototype = this.prototype;
      fBound.prototype = new fNOP();
      return fBound;
    }

    var bindFoo = foo.bind(obj, 'daisy');
    console.log(bindFoo('18'));

    // console.log(foo.bind2(null,'wuxuwei',18))

  </script>
</body>
</html>